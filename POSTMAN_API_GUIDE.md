# Руководство по использованию Postman API коллекции

## Обзор

Обновленная Postman коллекция для Sklad API содержит все доступные эндпоинты, организованные по функциональным группам.

## Установка

1. Скачайте файл `public/postman.json`
2. В Postman выберите "Import" → "File" → выберите скачанный файл
3. Коллекция будет импортирована со всеми запросами

## Переменные окружения

Коллекция использует следующие переменные:
- `base_url` - базовый URL API (по умолчанию: `http://localhost:8000`)
- `token` - Bearer токен для аутентификации

## Аутентификация

1. Сначала выполните запрос **Register** или **Login** для получения токена
2. Скопируйте полученный токен в переменную `token`
3. Все последующие запросы будут автоматически использовать этот токен

## Структура коллекции

### 1. Auth
- **Register** - регистрация нового пользователя
- **Login** - вход в систему
- **Logout** - выход из системы
- **Me** - получение информации о текущем пользователе
- **Update Profile** - обновление профиля

### 2. Products
- **List** - список товаров с пагинацией
- **Stats** - статистика по товарам
- **Popular** - популярные товары
- **Export** - экспорт товаров
- **Show by ID** - просмотр товара по ID
- **Create** - создание нового товара
- **Update** - обновление товара
- **Delete** - удаление товара

### 3. Sales
- **List** - список продаж
- **Stats** - статистика продаж
- **Export** - экспорт продаж
- **Show by ID** - просмотр продажи по ID
- **Create** - создание новой продажи
- **Update** - обновление продажи
- **Delete** - удаление продажи
- **Process** - обработка продажи
- **Cancel** - отмена продажи

### 4. Requests
- **List** - список запросов
- **Stats** - статистика запросов
- **Show by ID** - просмотр запроса по ID
- **Create** - создание нового запроса
- **Update** - обновление запроса
- **Delete** - удаление запроса
- **Process** - обработка запроса
- **Reject** - отклонение запроса

### 5. Users
- **List** - список пользователей
- **Stats** - статистика пользователей
- **Profile** - профиль текущего пользователя
- **Update Profile** - обновление профиля
- **Show by ID** - просмотр пользователя по ID
- **Create** - создание нового пользователя
- **Update** - обновление пользователя
- **Delete** - удаление пользователя
- **Block** - блокировка пользователя
- **Unblock** - разблокировка пользователя

### 6. Companies
- **List** - список компаний
- **Create** - создание новой компании
- **Show by ID** - просмотр компании по ID
- **Update** - обновление компании
- **Delete** - удаление компании
- **Archive** - архивирование компании
- **Restore** - восстановление компании
- **Company Warehouses** - склады компании

### 7. Receipts
- **List** - список приемок
- **Create** - создание новой приемки
- **Show by ID** - просмотр приемки по ID
- **Receive** - приемка товара

### 8. Products in Transit
- **List** - список товаров в пути
- **Create** - создание записи о товаре в пути
- **Show by ID** - просмотр товара в пути по ID
- **Receive** - приемка товара в пути

### 9. Warehouses
- **List** - список складов
- **Stats All** - общая статистика по складам
- **Show by ID** - просмотр склада по ID
- **Warehouse Stats** - статистика конкретного склада
- **Warehouse Products** - товары на складе
- **Warehouse Employees** - сотрудники склада
- **Create** - создание нового склада
- **Update** - обновление склада
- **Delete** - удаление склада
- **Activate** - активация склада
- **Deactivate** - деактивация склада

### 10. Product Templates
- **List** - список шаблонов товаров
- **Stats** - статистика шаблонов
- **Units** - доступные единицы измерения
- **Show by ID** - просмотр шаблона по ID
- **Template Attributes** - атрибуты шаблона
- **Template Products** - товары по шаблону
- **Create** - создание нового шаблона
- **Update** - обновление шаблона
- **Delete** - удаление шаблона
- **Activate** - активация шаблона
- **Deactivate** - деактивация шаблона
- **Test Formula** - тестирование формулы
- **Add Attribute** - добавление атрибута
- **Update Attribute** - обновление атрибута
- **Delete Attribute** - удаление атрибута

### 11. Stocks
- **List** - список остатков
- **Show by ID** - просмотр остатка по ID

## Примеры использования

### Создание товара
1. Убедитесь, что у вас есть токен аутентификации
2. Выполните запрос **Products → Create**
3. В теле запроса укажите:
   ```json
   {
     "product_template_id": 1,
     "warehouse_id": 1,
     "quantity": 10,
     "attributes": {
       "length": 5,
       "width": 3,
       "height": 2
     }
   }
   ```

### Получение статистики
1. Выполните запрос **Products → Stats**
2. Получите общую статистику по товарам

### Экспорт данных
1. Выполните запрос **Products → Export**
2. Получите файл с экспортированными данными

## Примечания

- Все запросы (кроме Register и Login) требуют аутентификации
- Используйте переменную `token` для автоматической аутентификации
- При изменении `base_url` обновите переменную в коллекции
- Некоторые эндпоинты могут требовать определенных ролей пользователя

## Обновления

Коллекция автоматически обновляется при изменениях в API. Для получения последней версии:
1. Скачайте обновленный файл `public/postman.json`
2. Импортируйте его в Postman
3. Замените существующую коллекцию
