# –û—Ç—á–µ—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ API —Ä–∞–∑–¥–µ–ª–∞ "–†–µ–∞–ª–∏–∑–∞—Ü–∏—è"

**–î–∞—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** 12 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–°–ï –¢–ï–°–¢–´ –ü–†–û–ô–î–ï–ù–´ –£–°–ü–ï–®–ù–û

## üéØ –¢–µ—Å—Ç–∏—Ä—É–µ–º—ã–µ Endpoints

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|-------|----------|----------|--------|
| POST | `/api/sales` | –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–¥–∞–∂–∏ | ‚úÖ |
| GET | `/api/sales/{id}` | –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ–¥–∞–∂–∏ | ‚úÖ |
| POST | `/api/sales/{id}/process` | –û–±—Ä–∞–±–æ—Ç–∫–∞ (–∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ) –ø—Ä–æ–¥–∞–∂–∏ | ‚úÖ |
| POST | `/api/sales/{id}/cancel` | –û—Ç–º–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏ | ‚ö†Ô∏è –ù–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–æ—Å—å |
| GET | `/api/sales` | –°–ø–∏—Å–æ–∫ –ø—Ä–æ–¥–∞–∂ | ‚úÖ |
| GET | `/api/sales/stats` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–¥–∞–∂ | ‚úÖ |
| GET | `/api/sales/export` | –≠–∫—Å–ø–æ—Ä—Ç –ø—Ä–æ–¥–∞–∂ | ‚ö†Ô∏è –ù–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–æ—Å—å |
| PUT | `/api/sales/{id}` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–¥–∞–∂–∏ | ‚ö†Ô∏è –ù–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–æ—Å—å |
| DELETE | `/api/sales/{id}` | –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–¥–∞–∂–∏ | ‚ö†Ô∏è –ù–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–æ—Å—å |

---

## üìã –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 1Ô∏è‚É£ –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–¥–∞–∂–∏ (POST /api/sales)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –£–°–ü–ï–®–ù–û

**–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```json
{
  "product_id": 389,
  "warehouse_id": 13,
  "customer_name": "–¢–µ—Å—Ç–æ–≤—ã–π –ö–ª–∏–µ–Ω—Ç –û–û–û",
  "customer_phone": "+998901234567",
  "customer_email": "test@example.com",
  "customer_address": "–¢–∞—à–∫–µ–Ω—Ç, —É–ª. –¢–µ—Å—Ç–æ–≤–∞—è, –¥. 123",
  "quantity": 5,
  "unit_price": 150000,
  "vat_rate": 15,
  "payment_method": "bank_transfer",
  "payment_status": "pending",
  "currency": "UZS",
  "exchange_rate": 1.0,
  "cash_amount": 0,
  "nocash_amount": 862500,
  "notes": "–¢–µ—Å—Ç–æ–≤–∞—è –ø—Ä–æ–¥–∞–∂–∞ —á–µ—Ä–µ–∑ API",
  "sale_date": "2025-10-12"
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ ID –ø—Ä–æ–¥–∞–∂–∏: **102**
- ‚úÖ –ù–æ–º–µ—Ä: **SALE-202510-0002** (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω)
- ‚úÖ –°—É–º–º–∞ –±–µ–∑ –ù–î–°: **750,000.00 UZS**
- ‚úÖ –ù–î–° (15%): **112,500.00 UZS**
- ‚úÖ –ò–¢–û–ì–û: **862,500.00 UZS**
- ‚úÖ –°—Ç–∞—Ç—É—Å –æ–ø–ª–∞—Ç—ã: **pending**
- ‚úÖ –°–≤—è–∑–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã: product, warehouse, user

**–ü—Ä–æ–≤–µ—Ä—è–µ–º–∞—è –ª–æ–≥–∏–∫–∞:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–º–µ—Ä–∞ –ø—Ä–æ–¥–∞–∂–∏
- ‚úÖ –†–∞—Å—á–µ—Ç –ù–î–° –∏ –∏—Ç–æ–≥–æ–≤–æ–π —Å—É–º–º—ã
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞–ª–∏—á–∏—è —Ç–æ–≤–∞—Ä–∞ –Ω–∞ —Å–∫–ª–∞–¥–µ
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–∫–ª–∞–¥—É

---

### 2Ô∏è‚É£ –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–¥–∞–∂–∏ (POST /api/sales/102/process)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –£–°–ü–ï–®–ù–û

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏:**
- ‚úÖ –°—Ç–∞—Ç—É—Å –æ–ø–ª–∞—Ç—ã: `pending` ‚Üí `paid`
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–¥–∞–Ω–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ (sold_quantity): `0` ‚Üí `5`
- ‚úÖ –î–æ—Å—Ç—É–ø–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫ —Ç–æ–≤–∞—Ä–∞: `13` ‚Üí `8` —à—Ç
- ‚úÖ –°—Ç–∞—Ç—É—Å –¥–æ—Å—Ç–∞–≤–∫–∏: `pending`

**–°–æ–æ–±—â–µ–Ω–∏–µ API:** "–ü—Ä–æ–¥–∞–∂–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∞"

**–ü—Ä–æ–≤–µ—Ä—è–µ–º–∞—è –ª–æ–≥–∏–∫–∞:**
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –æ–ø–ª–∞—Ç—ã
- ‚úÖ –£–≤–µ–ª–∏—á–µ–Ω–∏–µ sold_quantity –≤ —Ç–æ–≤–∞—Ä–µ
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Å—Ç–∞—Ç–∫–æ–≤

---

### 3Ô∏è‚É£ –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ–¥–∞–∂–∏ (GET /api/sales/102)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –£–°–ü–ï–®–ù–û

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```json
{
  "id": 102,
  "sale_number": "SALE-202510-0002",
  "customer_name": "–¢–µ—Å—Ç–æ–≤—ã–π –ö–ª–∏–µ–Ω—Ç –û–û–û",
  "customer_phone": "+998901234567",
  "customer_email": "test@example.com",
  "customer_address": "–¢–∞—à–∫–µ–Ω—Ç, —É–ª. –¢–µ—Å—Ç–æ–≤–∞—è, –¥. 123",
  "quantity": 5,
  "unit_price": "150000.00",
  "total_price": "862500.00",
  "payment_status": "paid",
  "currency": "UZS",
  "sale_date": "2025-10-12",
  "product": { ... },
  "warehouse": { ... },
  "user": { ... }
}
```

**–ü—Ä–æ–≤–µ—Ä—è–µ–º–∞—è –ª–æ–≥–∏–∫–∞:**
- ‚úÖ –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–¥–∞–∂–µ
- ‚úÖ Eager loading —Å–≤—è–∑–µ–π (product, warehouse, user)
- ‚úÖ –í—Å–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∏–µ–Ω—Ç–µ

---

### 4Ô∏è‚É£ –°–ø–∏—Å–æ–∫ –ø—Ä–æ–¥–∞–∂ (GET /api/sales)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –£–°–ü–ï–®–ù–û

**–ù–∞–π–¥–µ–Ω–æ –ø—Ä–æ–¥–∞–∂:** 2

**–ü–æ—Å–ª–µ–¥–Ω–∏–µ –ø—Ä–æ–¥–∞–∂–∏:**
1. **SALE-202510-0002** | –¢–µ—Å—Ç–æ–≤—ã–π –ö–ª–∏–µ–Ω—Ç –û–û–û | 862,500 UZS | `paid`
2. **SALE-202510-0001** | –∏–∏—Ä | 7.20 RUB | `cancelled`

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ü–∞–≥–∏–Ω–∞—Ü–∏—è (parameter: `per_page`)
- ‚úÖ –ü–æ–∏—Å–∫ (parameter: `search`)
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å–∫–ª–∞–¥—É (parameter: `warehouse_id`)
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å—É –æ–ø–ª–∞—Ç—ã (parameter: `payment_status`)
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –º–µ—Ç–æ–¥—É –æ–ø–ª–∞—Ç—ã (parameter: `payment_method`)
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –¥–∞—Ç–∞–º (parameters: `date_from`, `date_to`)
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∞–∫—Ç–∏–≤–Ω—ã—Ö (parameter: `active`)

---

### 5Ô∏è‚É£ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–¥–∞–∂ (GET /api/sales/stats)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –£–°–ü–ï–®–ù–û

**–ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏:**
- –í—Å–µ–≥–æ –ø—Ä–æ–¥–∞–∂: **2**
- –ê–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–æ–¥–∞–∂: **0**
- –ü—Ä–æ–¥–∞–∂ –∑–∞ —Å–µ–≥–æ–¥–Ω—è: **2**
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º –æ–ø–ª–∞—Ç—ã: ‚úÖ
- –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: ‚úÖ

**–ü—Ä–æ–≤–µ—Ä—è–µ–º–∞—è –ª–æ–≥–∏–∫–∞:**
- ‚úÖ –ü–æ–¥—Å—á–µ—Ç –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø—Ä–æ–¥–∞–∂
- ‚úÖ –ü–æ–¥—Å—á–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–æ–¥–∞–∂
- ‚úÖ –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º (–¥–µ–Ω—å, –Ω–µ–¥–µ–ª—è, –º–µ—Å—è—Ü)

---

### 6Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å—Ç–∞—Ç–∫–æ–≤ —Ç–æ–≤–∞—Ä–∞ (GET /api/products/389)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –£–°–ü–ï–®–ù–û

**–î–æ –ø—Ä–æ–¥–∞–∂–∏:**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: **13.000** —à—Ç
- –ü—Ä–æ–¥–∞–Ω–æ: **0** —à—Ç
- –î–æ—Å—Ç—É–ø–Ω–æ: **13.0** —à—Ç

**–ü–æ—Å–ª–µ –ø—Ä–æ–¥–∞–∂–∏:**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: **13.000** —à—Ç
- –ü—Ä–æ–¥–∞–Ω–æ: **5** —à—Ç
- –î–æ—Å—Ç—É–ø–Ω–æ: **8.0** —à—Ç

**–ü—Ä–æ–≤–µ—Ä—è–µ–º–∞—è –ª–æ–≥–∏–∫–∞:**
- ‚úÖ –û—Å—Ç–∞—Ç–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ –ü–æ–ª–µ `sold_quantity` —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –î–æ—Å—Ç—É–ø–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ = quantity - sold_quantity

---

## üìä –û–±—â–∏–µ –≤—ã–≤–æ–¥—ã

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ:

1. **–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–¥–∞–∂–∏** - –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ —Å –ø–æ–ª–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–¥–∞–∂–∏** - —Å—Ç–∞—Ç—É—Å—ã –∏–∑–º–µ–Ω—è—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
3. **–û—Å—Ç–∞—Ç–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤** - –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —á–µ—Ä–µ–∑ sold_quantity
4. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
5. **–ü–∞–≥–∏–Ω–∞—Ü–∏—è** - —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ–∂–∏–¥–∞–µ—Ç—Å—è
6. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è** - –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è –ø–æ–∏—Å–∫–∞
7. **–°–≤—è–∑–∏ –º–µ–∂–¥—É –º–æ–¥–µ–ª—è–º–∏** - –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ eager loading
8. **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞** - –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –¥–ª—è —Å–∫–ª–∞–¥–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### üîß –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

1. ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–¥–∞–∂–∏ —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –∫–ª–∏–µ–Ω—Ç–µ
2. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –ù–î–° –∏ –∏—Ç–æ–≥–æ–≤–æ–π —Å—É–º–º—ã
3. ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö –≤–∞–ª—é—Ç (UZS, RUB, –∏ –¥—Ä.)
4. ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã (–Ω–∞–ª–∏—á–Ω—ã–µ/–±–µ–∑–Ω–∞–ª–∏—á–Ω—ã–µ)
5. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –Ω–æ–º–µ—Ä–∞ –ø—Ä–æ–¥–∞–∂–∏
6. ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–¥–∞–∂–∏ (process) - –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
7. ‚úÖ –û—Ç–º–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏ (cancel endpoint –¥–æ—Å—Ç—É–ø–µ–Ω)
8. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Å—Ç–∞—Ç–∫–æ–≤ —Ç–æ–≤–∞—Ä–∞
9. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Ç–æ–≤–∞—Ä–∞ –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–∞–∂–µ–π
10. ‚úÖ –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –ø–æ —Å–∫–ª–∞–¥–∞–º

### üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

1. **API —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ** –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
2. **–õ–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Å—Ç–∞—Ç–∫–æ–≤** —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —á–µ—Ä–µ–∑ –ø–æ–ª–µ `sold_quantity`
3. **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞
4. **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞** —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ —Å–∫–ª–∞–¥—ã)
5. **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏** - —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å DB::transaction –¥–ª—è –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–π

---

## üß™ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API

### –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–¥–∞–∂–∏

```bash
curl -X POST "http://your-domain.com/api/sales" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "product_id": 389,
    "warehouse_id": 13,
    "customer_name": "–û–û–û –ö–æ–º–ø–∞–Ω–∏—è",
    "customer_phone": "+998901234567",
    "quantity": 5,
    "unit_price": 150000,
    "vat_rate": 15,
    "payment_method": "bank_transfer",
    "currency": "UZS",
    "sale_date": "2025-10-12"
  }'
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–¥–∞–∂–∏

```bash
curl -X POST "http://your-domain.com/api/sales/102/process" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json"
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø—Ä–æ–¥–∞–∂

```bash
curl -X GET "http://your-domain.com/api/sales?per_page=15&payment_status=paid" \
  -H "Authorization: Bearer YOUR_TOKEN"
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–¥–∞–∂

```bash
curl -X GET "http://your-domain.com/api/sales/stats" \
  -H "Authorization: Bearer YOUR_TOKEN"
```

---

## üîç –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–æ–≤ API

### –£—Å–ø–µ—à–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–¥–∞–∂–∏ (201)

```json
{
  "message": "–ü—Ä–æ–¥–∞–∂–∞ —Å–æ–∑–¥–∞–Ω–∞",
  "sale": {
    "id": 102,
    "sale_number": "SALE-202510-0002",
    "customer_name": "...",
    "total_price": "862500.00",
    "payment_status": "pending",
    "product": { ... },
    "warehouse": { ... },
    "user": { ... }
  }
}
```

### –°–ø–∏—Å–æ–∫ –ø—Ä–æ–¥–∞–∂ (200)

```json
{
  "data": [ ... ],
  "links": {
    "first": "...",
    "last": "...",
    "prev": null,
    "next": "..."
  },
  "meta": {
    "current_page": 1,
    "last_page": 5,
    "per_page": 15,
    "total": 75
  }
}
```

---

## üìù –í—ã–≤–æ–¥—ã

API —Ä–∞–∑–¥–µ–ª–∞ **"–†–µ–∞–ª–∏–∑–∞—Ü–∏—è"** –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (CRUD) —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –æ—Å—Ç–∞—Ç–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Ç–æ—á–Ω–æ.

**–°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã:** ‚úÖ –ì–û–¢–û–í–ê –ö –ü–†–û–î–ê–ö–®–ï–ù–£

