# –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–æ–ª–µ–≤–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –≤ Filament Admin Panel

## üéØ –¶–µ–ª—å
–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç—å —Ä–∞–∑–¥–µ–ª–æ–≤ –≤ –∞–¥–º–∏–Ω–∫–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–æ–≥–ª–∞—Å–Ω–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:

### –†–æ–ª–∏ –∏ –∏—Ö –¥–æ—Å—Ç—É–ø:

#### üë®‚Äçüíº **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (admin)**
- ‚úÖ –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ä–∞–∑–¥–µ–ª–∞–º
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏—è–º–∏
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫–ª–∞–¥–∞–º–∏
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞–º–∏ —Ç–æ–≤–∞—Ä–æ–≤
- ‚úÖ –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã

#### üë®‚Äçüíª **–û–ø–µ—Ä–∞—Ç–æ—Ä (operator)**
- ‚úÖ –¢–æ–≤–∞—Ä—ã
- ‚úÖ –¢–æ–≤–∞—Ä –≤ –ø—É—Ç–∏
- ‚úÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
- ‚ùå –ó–∞–ø—Ä–æ—Å—ã
- ‚ùå –û—Å—Ç–∞—Ç–∫–∏
- ‚ùå –ü—Ä–∏—ë–º–∫–∞
- ‚ùå –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã

#### üë∑‚Äç‚ôÇÔ∏è **–†–∞–±–æ—Ç–Ω–∏–∫ —Å–∫–ª–∞–¥–∞ (warehouse_worker)**
- ‚úÖ –ó–∞–ø—Ä–æ—Å—ã
- ‚úÖ –û—Å—Ç–∞—Ç–∫–∏
- ‚úÖ –¢–æ–≤–∞—Ä –≤ –ø—É—Ç–∏
- ‚úÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
- ‚úÖ –ü—Ä–∏—ë–º–∫–∞
- ‚ùå –¢–æ–≤–∞—Ä—ã (—Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –æ—Å—Ç–∞—Ç–∫–∏)
- ‚ùå –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã

#### üëî **–ú–µ–Ω–µ–¥–∂–µ—Ä –ø–æ –ø—Ä–æ–¥–∞–∂–∞–º (sales_manager)**
- ‚úÖ –ó–∞–ø—Ä–æ—Å—ã
- ‚úÖ –û—Å—Ç–∞—Ç–∫–∏
- ‚úÖ –¢–æ–≤–∞—Ä –≤ –ø—É—Ç–∏
- ‚ùå –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
- ‚ùå –ü—Ä–∏—ë–º–∫–∞
- ‚ùå –¢–æ–≤–∞—Ä—ã
- ‚ùå –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã

## üîß –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤

–î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `canViewAny()` –≤ –∫–∞–∂–¥—ã–π —Ä–µ—Å—É—Ä—Å:

```php
public static function canViewAny(): bool
{
    $user = Auth::user();
    if (!$user) return false;
    
    return in_array($user->role->value, [
        'admin',
        'operator',
        // ... –¥—Ä—É–≥–∏–µ —Ä–æ–ª–∏
    ]);
}
```

### 2. –†–µ—Å—É—Ä—Å—ã —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º

#### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã (—Ç–æ–ª—å–∫–æ admin):
- `UserResource` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- `CompanyResource` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏—è–º–∏  
- `WarehouseResource` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫–ª–∞–¥–∞–º–∏
- `ProductTemplateResource` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞–º–∏ —Ç–æ–≤–∞—Ä–æ–≤

#### –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã:
- `ProductResource` - –¢–æ–≤–∞—Ä—ã (admin, operator)
- `ProductInTransitResource` - –¢–æ–≤–∞—Ä –≤ –ø—É—Ç–∏ (–≤—Å–µ —Ä–æ–ª–∏)
- `SaleResource` - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è (admin, operator, warehouse_worker)
- `RequestResource` - –ó–∞–ø—Ä–æ—Å—ã (admin, warehouse_worker, sales_manager)
- `StockResource` - –û—Å—Ç–∞—Ç–∫–∏ (admin, warehouse_worker, sales_manager)
- `ReceiptResource` - –ü—Ä–∏—ë–º–∫–∞ (admin, warehouse_worker)

### 3. –ù–æ–≤—ã–π —Ä–µ—Å—É—Ä—Å ReceiptResource

–°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π —Ä–µ—Å—É—Ä—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–µ–º–∫–æ–π —Ç–æ–≤–∞—Ä–æ–≤:
- –ú–æ–¥–µ–ª—å: `Product`
- –ì—Ä—É–ø–ø–∞: "–°–∫–ª–∞–¥—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏"
- –î–æ—Å—Ç—É–ø: admin, warehouse_worker
- –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å: —Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—Ä–æ—Å–º–æ—Ç—Ä —Ç–æ–≤–∞—Ä–æ–≤ –ø—Ä–∏ –ø—Ä–∏–µ–º–∫–µ

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### ResourceAccessTest
–°–æ–∑–¥–∞–Ω –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ç–µ—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–∞:

```php
/** @test */
public function admin_can_access_all_resources()
{
    // –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –∞–¥–º–∏–Ω –≤–∏–¥–∏—Ç –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã
}

/** @test */
public function operator_can_access_only_limited_resources()
{
    // –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ 3 —Ä–∞–∑–¥–µ–ª–∞
}

/** @test */
public function warehouse_worker_can_access_warehouse_resources()
{
    // –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø —Ä–∞–±–æ—Ç–Ω–∏–∫–∞ —Å–∫–ª–∞–¥–∞
}

/** @test */
public function sales_manager_can_access_sales_resources()
{
    // –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –ø–æ –ø—Ä–æ–¥–∞–∂–∞–º
}

/** @test */
public function unauthenticated_user_cannot_access_any_resources()
{
    // –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –≤–∏–¥—è—Ç —Ä–µ—Å—É—Ä—Å—ã
}
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
- ‚úÖ **ResourceAccessTest**: 5/5 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—à–ª–∏ (50 assertions)
- ‚úÖ **–õ–æ–≥–∏–∫–∞ —Ä–æ–ª–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**
- ‚ùå **–°—Ç–∞—Ä—ã–µ —Ç–µ—Å—Ç—ã**: 6 —Ç–µ—Å—Ç–æ–≤ —É–ø–∞–ª–∏ (–æ–∂–∏–¥–∞–µ–º–æ)

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –î–æ—Å—Ç—É–ø –ø–æ —Ä–æ–ª—è–º:

| –†–µ—Å—É—Ä—Å | Admin | Operator | Warehouse Worker | Sales Manager |
|--------|-------|----------|------------------|---------------|
| –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ | ‚úÖ | ‚ùå | ‚ùå | ‚ùå |
| –ö–æ–º–ø–∞–Ω–∏–∏ | ‚úÖ | ‚ùå | ‚ùå | ‚ùå |
| –°–∫–ª–∞–¥—ã | ‚úÖ | ‚ùå | ‚ùå | ‚ùå |
| –®–∞–±–ª–æ–Ω—ã —Ç–æ–≤–∞—Ä–æ–≤ | ‚úÖ | ‚ùå | ‚ùå | ‚ùå |
| –¢–æ–≤–∞—Ä—ã | ‚úÖ | ‚úÖ | ‚ùå | ‚ùå |
| –¢–æ–≤–∞—Ä –≤ –ø—É—Ç–∏ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ |
| –†–µ–∞–ª–∏–∑–∞—Ü–∏—è | ‚úÖ | ‚úÖ | ‚úÖ | ‚ùå |
| –ó–∞–ø—Ä–æ—Å—ã | ‚úÖ | ‚ùå | ‚úÖ | ‚úÖ |
| –û—Å—Ç–∞—Ç–∫–∏ | ‚úÖ | ‚ùå | ‚úÖ | ‚úÖ |
| –ü—Ä–∏—ë–º–∫–∞ | ‚úÖ | ‚ùå | ‚úÖ | ‚ùå |

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
- **–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤**: 150+ —Ç–µ—Å—Ç–æ–≤
- **–£—Å–ø–µ—à–Ω—ã—Ö**: 144 —Ç–µ—Å—Ç–∞
- **–£–ø–∞–≤—à–∏—Ö**: 6 —Ç–µ—Å—Ç–æ–≤ (—Å—Ç–∞—Ä—ã–µ —Ç–µ—Å—Ç—ã —Å —É—Å—Ç–∞—Ä–µ–≤—à–µ–π –ª–æ–≥–∏–∫–æ–π)
- **–ù–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤ —Ä–æ–ª–µ–π**: 5 —Ç–µ—Å—Ç–æ–≤ (–≤—Å–µ –ø—Ä–æ—à–ª–∏)

## üéâ –ò—Ç–æ–≥–∏

‚úÖ **–†–æ–ª–µ–≤–æ–π –¥–æ—Å—Ç—É–ø —É—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω**
‚úÖ **–í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã**
‚úÖ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å**
‚úÖ **–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é**

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ä—ã–µ —Ç–µ—Å—Ç—ã –ø–æ–¥ –Ω–æ–≤—É—é –ª–æ–≥–∏–∫—É –¥–æ—Å—Ç—É–ø–∞
2. –î–æ–±–∞–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ 